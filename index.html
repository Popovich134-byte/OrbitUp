<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Neon Gaming</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@400;700&display=swap');
        
        :root { --neon: #39FF14; --dark: #050505; }
        body { background: var(--dark); color: white; font-family: 'Inter', sans-serif; overflow: hidden; height: 100vh; margin: 0; }
        .neon-text { font-family: 'Orbitron', sans-serif; color: var(--neon); text-shadow: 0 0 10px rgba(57, 255, 20, 0.5); }
        .neon-btn { background: var(--neon); color: black; font-weight: bold; box-shadow: 0 0 15px rgba(57, 255, 20, 0.4); border-radius: 12px; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .tab-content { display: none; height: calc(100vh - 180px); overflow-y: auto; padding-bottom: 40px; }
        .tab-content.active { display: block; }

        /* –†—É–ª–µ—Ç–∫–∞ –ö–µ–π—Å–∞ */
        .roulette-container {
            position: relative;
            width: 100%;
            height: 100px;
            background: #000;
            border: 2px solid #1a1a1a;
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            align-items: center;
        }
        .roulette-track {
            display: flex;
            position: absolute;
            left: 0;
            transition: transform 4s cubic-bezier(0.15, 0, 0.05, 1);
            will-change: transform;
        }
        .roulette-item {
            min-width: 80px;
            height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            background: rgba(255,255,255,0.05);
            margin: 0 5px;
            border-radius: 10px;
        }
        .roulette-marker {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--neon);
            z-index: 10;
            box-shadow: 0 0 10px var(--neon);
            transform: translateX(-50%);
        }
    </style>
</head>
<body>

    <div id="splash" class="fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center transition-opacity duration-700">
        <div class="w-16 h-16 border-4 border-t-[#39FF14] border-gray-900 rounded-full animate-spin mb-4"></div>
        <h2 class="neon-text tracking-widest">–ó–ê–ì–†–£–ó–ö–ê...</h2>
    </div>

    <div id="wallet-modal" class="fixed inset-0 z-[90] bg-black/90 hidden flex items-end">
        <div class="w-full glass rounded-t-3xl p-6 border-t border-[#39FF14]/30">
            <h3 class="text-xl font-bold mb-6 neon-text text-center">–ö–æ—à–µ–ª–µ–∫</h3>
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="p-4 bg-gray-900 rounded-2xl text-center border border-gray-800">
                    <p class="text-[10px] text-gray-400 uppercase">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</p>
                    <p class="text-xs mt-1">Telegram Stars</p>
                </div>
                <div class="p-4 bg-gray-900 rounded-2xl text-center border border-gray-800 opacity-50">
                    <p class="text-[10px] text-gray-400 uppercase">–í—ã–≤–æ–¥</p>
                    <p class="text-xs mt-1">–î–æ—Å—Ç—É–ø–Ω–æ –æ—Ç 50 ‚≠ê</p>
                </div>
            </div>
            <button onclick="toggleWallet()" class="w-full p-3 text-gray-500 font-bold uppercase text-xs">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <div class="p-4 flex flex-col h-full">
        <header class="flex justify-between items-center mb-6">
            <div onclick="toggleWallet()" class="cursor-pointer active:scale-95 transition">
                <p class="text-[10px] text-gray-500 uppercase font-bold">–ë–∞–ª–∞–Ω—Å</p>
                <div class="flex items-center gap-2">
                    <span class="text-3xl font-black neon-text" id="balance">2.00</span>
                    <span class="text-lg">‚≠ê</span>
                </div>
            </div>
            <div class="w-10 h-10 rounded-full glass border border-gray-700 flex items-center justify-center text-xl">ü¶ä</div>
        </header>

        <main class="flex-grow">
            <section id="page-crash" class="tab-content active">
                <div class="bg-black rounded-3xl p-4 border border-gray-800 mb-4 h-60 flex flex-col items-center justify-center relative overflow-hidden">
                    <canvas id="crashCanvas" class="absolute inset-0 opacity-30"></canvas>
                    <div id="mult-display" class="text-6xl font-black neon-text z-10">1.00x</div>
                    <div id="game-status" class="text-[10px] text-gray-500 uppercase mt-2 font-bold">–ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ</div>
                </div>
                
                <div class="glass rounded-2xl p-4">
                    <div class="flex gap-2 mb-2">
                        <div class="flex-grow bg-black rounded-xl p-3 border border-gray-800">
                            <input id="bet-amount" type="number" value="0.1" step="0.1" class="bg-transparent w-full text-center font-bold outline-none text-[#39FF14]">
                        </div>
                        <button onclick="handleCrashAction()" id="crash-btn" class="w-1/2 p-4 neon-btn uppercase text-sm">–°—Ç–∞–≤–∫–∞</button>
                    </div>
                </div>
            </section>

            <section id="page-cases" class="tab-content">
                <div class="mb-6">
                    <div class="roulette-container mb-4">
                        <div class="roulette-marker"></div>
                        <div id="rouletteTrack" class="roulette-track">
                            </div>
                    </div>
                    <div id="case-result" class="text-center h-6 text-sm font-bold text-[#39FF14]"></div>
                </div>

                <div class="grid grid-cols-1 gap-4">
                    <div class="glass p-6 rounded-3xl flex justify-between items-center border-l-4 border-[#39FF14]">
                        <div>
                            <h3 class="font-bold">–ö–µ–π—Å "–ù–æ–≤–∏—á–æ–∫"</h3>
                            <p class="text-xs text-gray-500">–®–∞–Ω—Å –Ω–∞ ‚≠ê‚≠ê‚≠ê</p>
                        </div>
                        <button onclick="openCase(0.5)" id="open-btn" class="px-6 py-3 neon-btn text-xs uppercase">0.5 ‚≠ê</button>
                    </div>
                </div>
            </section>

            <section id="page-profile" class="tab-content">
                <div class="glass p-6 rounded-3xl text-center">
                    <div class="w-20 h-20 bg-gray-800 rounded-full mx-auto mb-4 flex items-center justify-center text-4xl">ü¶ä</div>
                    <h2 class="text-xl font-bold neon-text">–ò–ì–†–û–ö #1337</h2>
                    <p class="text-xs text-gray-500 mt-1 uppercase tracking-widest">–°—Ç–∞—Ç—É—Å: –ù–æ–≤–∏—á–æ–∫</p>
                    <div class="mt-6 pt-6 border-t border-gray-800 grid grid-cols-2 gap-4 text-left">
                        <div><p class="text-[10px] text-gray-500">–ò–≥—Ä</p><p class="font-bold">12</p></div>
                        <div><p class="text-[10px] text-gray-500">–í—ã–∏–≥—Ä–∞–Ω–æ</p><p class="font-bold text-[#39FF14]">5.4 ‚≠ê</p></div>
                    </div>
                </div>
            </section>
        </main>

        <nav class="fixed bottom-6 left-4 right-4 h-16 glass rounded-2xl flex justify-around items-center border border-white/10 z-50">
            <button onclick="nav('crash')" class="flex flex-col items-center gap-1 text-gray-500 active:text-[#39FF14] transition">
                <span class="text-xl">üìà</span><span class="text-[9px] font-bold uppercase">–ö—Ä–∞—à</span>
            </button>
            <button onclick="nav('cases')" class="flex flex-col items-center gap-1 text-gray-500 active:text-[#39FF14] transition">
                <span class="text-xl">üéÅ</span><span class="text-[9px] font-bold uppercase">–ö–µ–π—Å—ã</span>
            </button>
            <button onclick="nav('profile')" class="flex flex-col items-center gap-1 text-gray-500 active:text-[#39FF14] transition">
                <span class="text-xl">üë§</span><span class="text-[9px] font-bold uppercase">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>
    </div>

    <script>
        let balance = 2.0;
        let isGaming = false;
        let multiplier = 1.0;
        let crashInterval;

        // –ó–∞–ø—É—Å–∫
        window.onload = () => {
            setTimeout(() => {
                document.getElementById('splash').style.opacity = '0';
                setTimeout(() => document.getElementById('splash').remove(), 700);
            }, 1500);
            updateBalance();
            initRoulette();
        };

        function updateBalance() {
            document.getElementById('balance').innerText = balance.toFixed(2);
        }

        function nav(page) {
            document.querySelectorAll('.tab-content').forEach(p => p.classList.remove('active'));
            document.getElementById('page-' + page).classList.add('active');
        }

        function toggleWallet() {
            const m = document.getElementById('wallet-modal');
            m.classList.toggle('hidden');
        }

        // --- –õ–û–ì–ò–ö–ê –ö–†–ê–®–ê (–° –í–´–ì–û–î–û–ô) ---
        function handleCrashAction() {
            if (!isGaming) {
                let bet = parseFloat(document.getElementById('bet-amount').value);
                if (bet > balance || bet <= 0) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–≤–µ–∑–¥!");
                
                balance -= bet;
                updateBalance();
                isGaming = true;
                multiplier = 1.0;
                
                // –®–∞–Ω—Å—ã: 40% –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∫—Ä–∞—à, 50% –Ω–µ–±–æ–ª—å—à–æ–π –∏–∫—Å, 10% —É–¥–∞—á–∞
                let rnd = Math.random();
                let crashAt = rnd < 0.4 ? 1.05 + Math.random()*0.2 : (rnd < 0.9 ? 1.2 + Math.random()*0.5 : 2.0 + Math.random()*3);

                document.getElementById('crash-btn').innerText = "–ó–ê–ë–†–ê–¢–¨";
                document.getElementById('crash-btn').classList.replace('neon-btn', 'bg-white');

                crashInterval = setInterval(() => {
                    multiplier += 0.02;
                    document.getElementById('mult-display').innerText = multiplier.toFixed(2) + 'x';
                    if (multiplier >= crashAt) {
                        clearInterval(crashInterval);
                        isGaming = false;
                        document.getElementById('mult-display').classList.add('text-red-600');
                        document.getElementById('game-status').innerText = "–ö–†–ê–®!";
                        setTimeout(resetCrash, 2000);
                    }
                }, 60);
            } else {
                let win = (parseFloat(document.getElementById('bet-amount').value) * multiplier);
                balance += win;
                clearInterval(crashInterval);
                isGaming = false;
                updateBalance();
                resetCrash();
            }
        }

        function resetCrash() {
            document.getElementById('mult-display').classList.remove('text-red-600');
            document.getElementById('mult-display').innerText = "1.00x";
            document.getElementById('crash-btn').innerText = "–°–¢–ê–í–ö–ê";
            document.getElementById('crash-btn').classList.replace('bg-white', 'neon-btn');
            document.getElementById('game-status').innerText = "–ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ";
        }

        // --- –õ–û–ì–ò–ö–ê –ö–ï–ô–°–û–í –° –ê–ù–ò–ú–ê–¶–ò–ï–ô ---
        const items = [
            { img: '‚≠ê', val: 2.0, weight: 0.8 }, // 80% —à–∞–Ω—Å –Ω–∞ –∑–≤–µ–∑–¥—É (–≤—ã–∏–≥—Ä—ã—à 2 –∑–≤–µ–∑–¥—ã)
            { img: 'üß∏', val: 10.0, weight: 0.05 }, // 5% –º–∏—à–∫–∞
            { img: '‚ù§Ô∏è', val: 25.0, weight: 0.03 }, // 3% —Å–µ—Ä–¥—Ü–µ
            { img: 'üåπ', val: 50.0, weight: 0.02 }, // 2% —Ä–æ–∑–∞
            { img: 'üí©', val: 0.0, weight: 0.1 }   // 10% –º—É—Å–æ—Ä
        ];

        function initRoulette() {
            const track = document.getElementById('rouletteTrack');
            track.innerHTML = '';
            // –°–æ–∑–¥–∞–µ–º 50 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ª–µ–Ω—Ç—ã
            for (let i = 0; i < 50; i++) {
                let item = items[0]; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–≤–µ–∑–¥–∞
                let r = Math.random();
                if (r < 0.02) item = items[3];
                else if (r < 0.05) item = items[2];
                else if (r < 0.1) item = items[1];
                
                const div = document.createElement('div');
                div.className = 'roulette-item';
                div.innerHTML = `<span>${item.img}</span><span class="text-[8px] mt-1">${item.val}</span>`;
                track.appendChild(div);
            }
        }

        function openCase(cost) {
            if (balance < cost) return alert("–ú–∞–ª–æ –∑–≤–µ–∑–¥!");
            balance -= cost;
            updateBalance();
            
            const track = document.getElementById('rouletteTrack');
            const btn = document.getElementById('open-btn');
            btn.disabled = true;
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Å –Ω–∞—à–µ–π –≤—ã–≥–æ–¥–æ–π)
            let finalIdx = 40 + Math.floor(Math.random() * 5); // –¶–µ–ª–∏–º—Å—è –≤ –∫–æ–Ω–µ—Ü –ª–µ–Ω—Ç—ã
            let randWin = Math.random();
            let winObj = items[0]; // –ß–∞—â–µ –≤—Å–µ–≥–æ –∑–≤–µ–∑–¥–∞
            
            if (randWin < 0.05) winObj = items[1]; // –†–µ–¥–∫–∏–µ
            else if (randWin < 0.01) winObj = items[3];

            // –ü–æ–¥–º–µ–Ω—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –≤ –ª–µ–Ω—Ç–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è
            track.children[finalIdx].innerHTML = `<span>${winObj.img}</span><span class="text-[8px] mt-1">${winObj.val}</span>`;

            const offset = (finalIdx * 90) - (track.parentElement.offsetWidth / 2) + 45;
            track.style.transform = `translateX(-${offset}px)`;

            setTimeout(() => {
                balance += winObj.val;
                updateBalance();
                document.getElementById('case-result').innerText = `–í–´–ò–ì–†–´–®: ${winObj.img} (${winObj.val} ‚≠ê)`;
                
                setTimeout(() => {
                    track.style.transition = 'none';
                    track.style.transform = 'translateX(0)';
                    initRoulette();
                    setTimeout(() => track.style.transition = 'transform 4s cubic-bezier(0.15, 0, 0.05, 1)', 50);
                    btn.disabled = false;
                    document.getElementById('case-result').innerText = '';
                }, 2000);
            }, 4100);
        }
    </script>
</body>
</html>
