<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>OrbitUp | Original Premium</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #000; color: #39FF14; font-family: sans-serif; margin: 0; overflow-x: hidden; }
        .neon-border { border: 1px solid #39FF14; box-shadow: 0 0 10px rgba(57, 255, 20, 0.3); }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); }
        .page { display: none; }
        .page.active { display: block; }
        #crash-canvas { width: 100%; height: 180px; background: #050505; border-radius: 15px; }
        .tab-btn.active { background: #39FF14; color: #000; }
    </style>
</head>
<body class="p-4">

    <div id="welcome" class="fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-center">
        <h1 class="text-4xl font-black italic tracking-tighter mb-2" style="text-shadow: 0 0 15px #39FF14;">ORBIT UP</h1>
        <p class="text-[10px] uppercase tracking-[0.5em] opacity-50">Welcome to project</p>
    </div>

    <div id="lang" class="page fixed inset-0 bg-black flex flex-col items-center justify-center p-6 text-center">
        <h2 class="text-xl font-bold mb-10 uppercase">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫</h2>
        <div class="w-full space-y-4 mb-10">
            <button onclick="selectL('ru')" id="l-ru" class="w-full glass p-5 rounded-2xl font-bold border border-white/10">–†–£–°–°–ö–ò–ô</button>
            <button onclick="selectL('en')" id="l-en" class="w-full glass p-5 rounded-2xl font-bold border border-white/10">ENGLISH</button>
        </div>
        <button id="go" onclick="start()" class="hidden w-full bg-[#39FF14] text-black font-black py-4 rounded-2xl uppercase">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    </div>

    <div id="app" class="page">
        <div class="flex justify-between items-center mb-6">
            <div>
                <p id="u-name" class="font-bold text-white uppercase text-sm tracking-widest">User</p>
                <p class="text-[8px] opacity-50">PREMIUM ACCOUNT</p>
            </div>
            <div class="glass neon-border px-4 py-1 rounded-full text-sm font-black tracking-tighter">
                ‚≠ê <span id="bal-val">1000</span>
            </div>
        </div>

        <div id="sec-crash" class="sec active">
            <div class="glass neon-border rounded-3xl p-5 mb-6">
                <div class="flex justify-between mb-2 items-center">
                    <span class="text-[10px] font-bold opacity-50">CRASH GAME</span>
                    <span id="mult" class="text-3xl font-black italic">1.00x</span>
                </div>
                <canvas id="crash-canvas"></canvas>
                <div class="flex gap-2 mt-4">
                    <input id="bet-input" type="number" value="50" class="w-1/2 bg-white/10 rounded-xl px-4 text-white outline-none">
                    <button id="b-bet" onclick="doBet()" class="w-1/2 bg-[#39FF14] text-black font-bold py-3 rounded-xl uppercase text-xs">–°—Ç–∞–≤–∫–∞</button>
                    <button id="b-cash" onclick="doCash()" class="hidden w-1/2 bg-white text-black font-bold py-3 rounded-xl uppercase text-xs">–ó–∞–±—Ä–∞—Ç—å</button>
                </div>
            </div>
        </div>

        <div id="sec-cases" class="sec hidden">
            <h3 class="text-[10px] font-bold mb-4 opacity-50 uppercase tracking-widest">–ö–µ–π—Å—ã</h3>
            <div class="grid grid-cols-2 gap-4">
                <div class="glass p-5 rounded-3xl text-center border border-white/5">
                    <div id="box-1" class="text-5xl mb-4">üì¶</div>
                    <p class="text-[10px] font-bold mb-3">NEON BOX</p>
                    <button onclick="openBox(100, 'box-1')" class="w-full bg-[#39FF14] text-black py-2 rounded-xl text-[10px] font-black uppercase tracking-tighter">100 ‚≠ê</button>
                </div>
                <div class="glass p-5 rounded-3xl text-center border border-white/5">
                    <div id="box-2" class="text-5xl mb-4">üíé</div>
                    <p class="text-[10px] font-bold mb-3">ELITE BOX</p>
                    <button onclick="openBox(500, 'box-2')" class="w-full bg-[#39FF14] text-black py-2 rounded-xl text-[10px] font-black uppercase tracking-tighter">500 ‚≠ê</button>
                </div>
            </div>
        </div>

        <div class="fixed bottom-6 left-6 right-6 h-16 glass rounded-full flex justify-around items-center border border-white/10">
            <button onclick="tab('crash')" class="tab-btn w-10 h-10 rounded-full flex items-center justify-center">üìà</button>
            <button onclick="tab('cases')" class="tab-btn w-10 h-10 rounded-full flex items-center justify-center">üì¶</button>
            <button onclick="tab('gifts')" class="tab-btn w-10 h-10 rounded-full flex items-center justify-center">üéÅ</button>
            <button onclick="tab('profile')" class="tab-btn w-10 h-10 rounded-full flex items-center justify-center">üë§</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        let balance = 1000;
        let mult = 1.0;
        let bet = 0;
        let points = [];

        // 1. –ü–æ—Ä—è–¥–æ–∫ –≤—Ö–æ–¥–∞
        setTimeout(() => {
            document.getElementById('welcome').remove();
            document.getElementById('lang').classList.add('active');
        }, 5000); // 5 —Å–µ–∫ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

        function selectL(l) {
            document.getElementById('l-ru').style.borderColor = (l==='ru') ? '#39FF14' : 'rgba(255,255,255,0.1)';
            document.getElementById('l-en').style.borderColor = (l==='en') ? '#39FF14' : 'rgba(255,255,255,0.1)';
            document.getElementById('go').classList.remove('hidden');
        }

        function start() {
            document.getElementById('lang').remove();
            document.getElementById('app').classList.add('active');
            if(tg.initDataUnsafe?.user) document.getElementById('u-name').innerText = tg.initDataUnsafe.user.first_name;
            runCrash();
        }

        // 2. –ö–µ–π—Å—ã (–†–∞–±–æ—Ç–∞—é—â–∏–µ)
        function openBox(cost, id) {
            if(balance < cost) return tg.showAlert("–ú–∞–ª–æ –∑–≤–µ–∑–¥!");
            balance -= cost; upUI();
            const el = document.getElementById(id);
            el.style.transition = "0.5s"; el.style.transform = "scale(1.3) rotate(10deg)";
            setTimeout(() => {
                el.style.transform = "scale(1) rotate(0deg)";
                const win = Math.floor(Math.random() * (cost * 2.5));
                balance += win; upUI();
                tg.showPopup({ title: "–î—Ä–æ–ø!", message: `–í—ã –ø–æ–ª—É—á–∏–ª–∏ ${win} ‚≠ê` });
            }, 600);
        }

        // 3. –ö—Ä–∞—à (–†–∞–±–æ—á–∏–π)
        function doBet() {
            const v = parseInt(document.getElementById('bet-input').value);
            if(v > balance || v <= 0) return;
            balance -= v; bet = v; upUI();
            document.getElementById('b-bet').classList.add('hidden');
            document.getElementById('b-cash').classList.remove('hidden');
        }

        function doCash() {
            if(bet <= 0) return;
            balance += (bet * mult); bet = 0; upUI();
            document.getElementById('b-bet').classList.remove('hidden');
            document.getElementById('b-cash').classList.add('hidden');
            tg.HapticFeedback.notificationOccurred('success');
        }

        function upUI() { document.getElementById('bal-val').innerText = Math.floor(balance); }

        function runCrash() {
            const canvas = document.getElementById('crash-canvas');
            const ctx = canvas.getContext('2d');
            setInterval(() => {
                ctx.clearRect(0,0, canvas.width, canvas.height);
                mult += 0.01;
                if(Math.random() < 0.005) { // –ö—Ä–∞—à
                    if(bet > 0) {
                        bet = 0;
                        document.getElementById('b-bet').classList.remove('hidden');
                        document.getElementById('b-cash').classList.add('hidden');
                        tg.HapticFeedback.notificationOccurred('error');
                    }
                    mult = 1.0; points = [];
                }
                points.push(mult); if(points.length > 50) points.shift();
                ctx.strokeStyle = '#39FF14'; ctx.lineWidth = 4;
                ctx.beginPath();
                points.forEach((p, i) => ctx.lineTo((i/50)*canvas.width, canvas.height - (p*15)));
                ctx.stroke();
                document.getElementById('mult').innerText = mult.toFixed(2) + 'x';
            }, 60);
        }

        function tab(t) {
            document.querySelectorAll('.sec').forEach(s => s.classList.add('hidden'));
            const target = document.getElementById('sec-' + t);
            if(target) target.classList.remove('hidden');
            tg.HapticFeedback.selectionChanged();
        }
    </script>
</body>
</html>
