<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Neon Gaming Pro Final</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@400;600;800&display=swap');
        
        :root { --neon: #39FF14; --ton: #0098EA; --bg: #050505; }

        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; overflow: hidden; height: 100vh; margin: 0; user-select: none; }
        
        .font-tech { font-family: 'Orbitron', sans-serif; }
        
        /* –°—Ç–µ–∫–ª—è–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .glass-panel { 
            background: rgba(20, 20, 20, 0.6); 
            backdrop-filter: blur(12px); 
            border: 1px solid rgba(255, 255, 255, 0.08); 
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .neon-btn { background: var(--neon); color: black; box-shadow: 0 0 12px rgba(57, 255, 20, 0.4); }
        .ton-btn { background: var(--ton); color: white; box-shadow: 0 0 12px rgba(0, 152, 234, 0.4); }
        .action-btn { font-weight: 800; border-radius: 14px; transition: 0.1s; }
        .action-btn:active { transform: scale(0.95); }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è Dock */
        .nav-dock {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 92%; max-width: 380px;
            background: rgba(15, 15, 15, 0.95); backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px;
            display: flex; justify-content: space-around; padding: 10px 0; z-index: 50;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .nav-item { color: #555; padding: 8px; border-radius: 12px; transition: 0.3s; }
        .nav-item.active { color: white; }
        .nav-item.active svg { filter: drop-shadow(0 0 6px white); }

        /* –í–∫–ª–∞–¥–∫–∏ */
        .tab-content { display: none; height: calc(100vh - 90px); overflow-y: auto; padding: 20px; padding-bottom: 100px; }
        .tab-content.active { display: block; animation: fadeUp 0.3s ease; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –ö—Ä–∞—à–µ */
        .crash-switch { background: #111; border-radius: 10px; padding: 3px; display: inline-flex; border: 1px solid #333; margin-bottom: 15px; }
        .switch-opt { padding: 6px 12px; border-radius: 8px; font-size: 11px; font-weight: bold; color: #666; transition: 0.2s; }
        .switch-opt.active-s { background: rgba(57, 255, 20, 0.15); color: var(--neon); border: 1px solid var(--neon); }
        .switch-opt.active-t { background: rgba(0, 152, 234, 0.15); color: var(--ton); border: 1px solid var(--ton); }
    </style>
</head>
<body>

    <header class="pt-3 px-5 flex justify-between items-center z-20 relative">
        <div onclick="openWallet()" class="glass-panel rounded-xl py-1.5 px-3 flex items-center gap-2 cursor-pointer active:scale-95 transition">
            <div id="headerIcon" class="w-6 h-6 flex items-center justify-center">
                </div>
            <div class="flex flex-col leading-none">
                <span class="text-[9px] text-gray-400 font-bold uppercase">–ë–∞–ª–∞–Ω—Å</span>
                <span class="font-tech font-bold text-sm" id="headerBalance">0</span>
            </div>
        </div>

        <div class="flex items-center gap-2">
            <div class="text-right">
                <p class="text-[8px] text-gray-500 uppercase font-bold mb-1">LVL 1</p>
                <div class="w-16 h-1 bg-gray-800 rounded-full overflow-hidden">
                    <div class="h-full bg-white w-1/3"></div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section id="page-crash" class="tab-content active">
            
            <div class="flex justify-center">
                <div class="crash-switch">
                    <button onclick="setCurrency('stars')" id="sw-stars" class="switch-opt active-s">STARS</button>
                    <button onclick="setCurrency('ton')" id="sw-ton" class="switch-opt">TON</button>
                </div>
            </div>

            <div class="relative w-full h-64 bg-[#080808] rounded-[24px] border border-gray-800 mb-5 overflow-hidden flex flex-col items-center justify-center shadow-lg">
                <div class="absolute inset-0" style="background-image: radial-gradient(#222 1px, transparent 1px); background-size: 20px 20px; opacity: 0.4;"></div>
                
                <div id="rocket" class="absolute text-5xl transition-opacity duration-200" style="bottom: 10%; left: 10%; opacity: 0;">üöÄ</div>
                
                <div id="mult-display" class="relative z-10 text-5xl font-black font-tech text-white">1.00x</div>
                <div id="game-status" class="relative z-10 text-[9px] text-gray-500 font-bold uppercase tracking-[0.2em] mt-2">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
                
                <div id="timer-bar" class="absolute bottom-0 left-0 h-1 bg-white w-0 shadow-[0_0_10px_white]"></div>
            </div>

            <div class="glass-panel rounded-[20px] p-4">
                <div class="flex justify-between text-[9px] text-gray-500 font-bold uppercase mb-2">
                    <span>–°—Ç–∞–≤–∫–∞</span>
                    <span id="min-bet-label" class="text-white">Min: 25</span>
                </div>
                <div class="flex gap-3">
                    <div class="relative flex-grow">
                        <input id="betInput" type="number" class="w-full bg-[#050505] border border-gray-700 rounded-xl p-3 text-center text-lg font-bold text-white outline-none focus:border-white transition">
                    </div>
                    <button onclick="handleBetClick()" id="crashBtn" class="w-1/2 action-btn neon-btn uppercase text-xs tracking-wider">–°–¢–ê–†–¢</button>
                </div>
            </div>
        </section>

        <section id="page-cases" class="tab-content">
            <h2 class="text-center font-tech text-xl font-black uppercase text-white mb-6">–ö–µ–π—Å—ã</h2>
            
            <div id="cases-list" class="grid gap-3">
                <div onclick="alert('–õ–æ–≥–∏–∫–∞ –∫–µ–π—Å–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –∫–æ–¥–∞!')" class="glass-panel p-3 rounded-[20px] flex items-center gap-3 border border-gray-800">
                    <div class="w-14 h-14 rounded-xl bg-[#39FF14]/10 flex items-center justify-center text-2xl">üì¶</div>
                    <div class="flex-grow">
                        <h3 class="font-bold text-sm">–ù–æ–≤–∏—á–æ–∫</h3>
                        <p class="text-[10px] text-gray-500">–î–æ 100 Stars</p>
                    </div>
                    <div class="text-right">
                        <p class="font-tech font-bold text-[#39FF14] text-sm">50 ‚≠ê</p>
                        <button class="bg-[#39FF14] text-black text-[9px] font-bold px-3 py-1 rounded-full mt-1">OPEN</button>
                    </div>
                </div>

                <div onclick="alert('–õ–æ–≥–∏–∫–∞ –∫–µ–π—Å–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!')" class="glass-panel p-3 rounded-[20px] flex items-center gap-3 border border-gray-800">
                    <div class="w-14 h-14 rounded-xl bg-[#0098EA]/10 flex items-center justify-center text-2xl">üíé</div>
                    <div class="flex-grow">
                        <h3 class="font-bold text-sm">–¢—Ä–µ–π–¥–µ—Ä</h3>
                        <p class="text-[10px] text-gray-500">–ü—Ä–∏–∑—ã –≤ TON</p>
                    </div>
                    <div class="text-right">
                        <p class="font-tech font-bold text-[#0098EA] text-sm">0.5 TON</p>
                        <button class="bg-[#0098EA] text-white text-[9px] font-bold px-3 py-1 rounded-full mt-1">OPEN</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="page-profile" class="tab-content">
            <div class="glass-panel p-6 rounded-[30px] text-center mt-4">
                <div class="w-20 h-20 mx-auto bg-gray-800 rounded-full flex items-center justify-center text-3xl mb-3 border border-gray-600">üòé</div>
                <h2 class="text-lg font-bold">Player One</h2>
                <div class="grid grid-cols-2 gap-2 mt-4">
                    <div class="bg-black/40 p-3 rounded-xl">
                        <p class="text-[8px] text-gray-500 uppercase">Stars</p>
                        <p class="font-tech text-[#39FF14]" id="p-stars">0</p>
                    </div>
                    <div class="bg-black/40 p-3 rounded-xl">
                        <p class="text-[8px] text-gray-500 uppercase">TON</p>
                        <p class="font-tech text-[#0098EA]" id="p-ton">0</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <nav class="nav-dock">
        <button onclick="nav('crash')" id="nav-crash" class="nav-item active">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.48-.56.93-1.23 1.35-2h4.65c.96 0 1.88.38 2.59 1.06l.32.32a.75.75 0 0 0 1.06 0l2.12-2.12a.75.75 0 0 0 0-1.06l-.32-.32a3.68 3.68 0 0 0-1.06-2.59V8.15c.77-.42 1.44-.87 2-1.35 1.5-1.26 2-5 2-5s-3.74.5-5 2c-.48.56-.93 1.23-1.35 2H9.85c-.96 0-1.88-.38-2.59-1.06l-.32-.32a.75.75 0 0 0-1.06 0L3.76 6.54a.75.75 0 0 0 0 1.06l.32.32c.68.71 1.06 1.63 1.06 2.59v4.65c-.42.77-.87 1.44-1.35 2z"/></svg>
        </button>
        <button onclick="nav('cases')" id="nav-cases" class="nav-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
        </button>
        <button onclick="nav('profile')" id="nav-profile" class="nav-item">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
        </button>
    </nav>

    <div id="wallet-modal" class="fixed inset-0 z-[100] bg-black/80 hidden flex flex-col justify-end">
        <div class="bg-[#111] rounded-t-[24px] p-6 border-t border-gray-800">
            <div class="w-10 h-1 bg-gray-700 mx-auto mb-6 rounded-full" onclick="document.getElementById('wallet-modal').classList.add('hidden')"></div>
            <h3 class="text-center font-bold text-white mb-4">–ö–û–®–ï–õ–ï–ö</h3>
            <div class="flex gap-4">
                <button onclick="addBalance(100)" class="w-full py-3 bg-gray-800 rounded-xl text-xs font-bold uppercase hover:bg-white hover:text-black">–ü–æ–ø–æ–ª–Ω–∏—Ç—å (–¢–µ—Å—Ç)</button>
            </div>
        </div>
    </div>

    <script>
        // --- –î–ê–ù–ù–´–ï ---
        let balances = { stars: 1000, ton: 5.00 };
        let activeCurr = 'stars'; 
        let game = { state: 'waiting', mult: 1.0, crashAt: 0, myBet: 0, cashedOut: false };

        // –í–µ–∫—Ç–æ—Ä–Ω–∞—è –∏–∫–æ–Ω–∫–∞ TON (–°–∏–Ω–∏–π –∫—Ä—É–≥ + –ë–µ–ª—ã–π –∫—Ä–∏—Å—Ç–∞–ª–ª)
        const iconTon = `<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full"><circle cx="24" cy="24" r="24" fill="#0098EA"/><path d="M24 11L14 28L24 40L34 28L24 11Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 28L24 18L34 28" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M24 40V28" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
        const iconStars = `<span class="text-lg">‚≠ê</span>`;

        function updateHeader() {
            const iconContainer = document.getElementById('headerIcon');
            const balanceText = document.getElementById('headerBalance');
            
            if(activeCurr === 'stars') {
                iconContainer.innerHTML = iconStars;
                balanceText.innerText = balances.stars.toFixed(0);
                balanceText.style.color = 'white';
            } else {
                iconContainer.innerHTML = iconTon;
                balanceText.innerText = balances.ton.toFixed(2);
                balanceText.style.color = '#0098EA';
            }
            // –ü—Ä–æ—Ñ–∏–ª—å
            document.getElementById('p-stars').innerText = balances.stars.toFixed(0);
            document.getElementById('p-ton').innerText = balances.ton.toFixed(2);
        }

        function setCurrency(c) {
            activeCurr = c;
            // UI –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è
            document.getElementById('sw-stars').className = c==='stars' ? 'switch-opt active-s' : 'switch-opt';
            document.getElementById('sw-ton').className = c==='ton' ? 'switch-opt active-t' : 'switch-opt';
            
            // UI –ö—Ä–∞—à–∞
            const btn = document.getElementById('crashBtn');
            const minLabel = document.getElementById('min-bet-label');
            const timerBar = document.getElementById('timer-bar');

            if(c === 'stars') {
                minLabel.innerText = "Min: 25 Stars";
                document.getElementById('betInput').value = 25;
                btn.className = 'w-1/2 action-btn neon-btn uppercase text-xs tracking-wider';
                timerBar.style.backgroundColor = '#39FF14';
            } else {
                minLabel.innerText = "Min: 0.1 TON";
                document.getElementById('betInput').value = 0.1;
                btn.className = 'w-1/2 action-btn ton-btn uppercase text-xs tracking-wider';
                timerBar.style.backgroundColor = '#0098EA';
            }
            updateHeader();
        }

        // --- –õ–û–ì–ò–ö–ê –ò–ì–†–´ (HOUSE EDGE) ---
        function runGame() {
            game.state = 'waiting'; game.cashedOut = false; game.mult = 1.0;
            
            // –°–±—Ä–æ—Å UI
            document.getElementById('mult-display').innerText = "1.00x";
            document.getElementById('mult-display').className = "relative z-10 text-5xl font-black font-tech text-white";
            document.getElementById('game-status').innerText = "–û–ñ–ò–î–ê–ù–ò–ï";
            document.getElementById('rocket').style.opacity = '0';
            
            const bar = document.getElementById('timer-bar');
            bar.style.width = '100%'; bar.style.transition = 'width 5s linear';
            
            updateBtn();

            setTimeout(() => {
                bar.style.transition = 'none'; bar.style.width = '0%';
                launch();
            }, 5000);
        }

        function launch() {
            game.state = 'flying';
            document.getElementById('game-status').innerText = "–ü–û–õ–ï–¢";
            document.getElementById('rocket').style.opacity = '1';

            // –ñ–ï–°–¢–ö–ò–ô –ê–õ–ì–û–†–ò–¢–ú –í–´–ì–û–î–´ (House Edge)
            // 70% —à–∞–Ω—Å, —á—Ç–æ –∫—Ä–∞—à –±—É–¥–µ—Ç –¥–æ 1.40x (–ë–†–ï–ï–ú –ò–ì–†–û–ö–ê)
            // 20% —à–∞–Ω—Å, —á—Ç–æ –¥–æ 2.00x
            // 10% —à–∞–Ω—Å, —á—Ç–æ —É–ª–µ—Ç–∏—Ç –≤—ã—Å–æ–∫–æ (–∑–∞–º–∞–Ω—É—Ö–∞)
            let r = Math.random();
            if (r < 0.70) {
                game.crashAt = 1.0 + Math.random() * 0.4; // 1.00 - 1.40
            } else if (r < 0.90) {
                game.crashAt = 1.41 + Math.random() * 0.6; // 1.41 - 2.00
            } else {
                game.crashAt = 2.0 + Math.random() * 3.0; // 2.00+
            }
            
            console.log("Target Crash:", game.crashAt.toFixed(2));

            let loop = setInterval(() => {
                if(game.state !== 'flying') { clearInterval(loop); return; }

                game.mult += 0.015;
                document.getElementById('mult-display').innerText = game.mult.toFixed(2) + 'x';
                
                // –î–≤–∏–∂–µ–Ω–∏–µ —Ä–∞–∫–µ—Ç—ã
                let p = Math.min(80, (game.mult - 1) * 30);
                document.getElementById('rocket').style.bottom = (10 + p/2) + '%';
                document.getElementById('rocket').style.left = (10 + p) + '%';

                if(game.mult >= game.crashAt) {
                    crash();
                }
            }, 50);
        }

        function crash() {
            game.state = 'crashed';
            document.getElementById('mult-display').innerText = "CRASH";
            document.getElementById('mult-display').className = "relative z-10 text-5xl font-black font-tech text-red-600";
            document.getElementById('rocket').style.opacity = '0';
            document.getElementById('game-status').innerText = "–ö–†–£–®–ï–ù–ò–ï";
            
            if(game.myBet > 0) {
                // –ò–≥—Ä–æ–∫ –ø—Ä–æ–∏–≥—Ä–∞–ª
            }
            game.myBet = 0;
            updateBtn();
            setTimeout(runGame, 3000);
        }

        function handleBetClick() {
            // –õ–û–ì–ò–ö–ê –°–¢–ê–í–ö–ò
            if(game.state === 'waiting' && game.myBet === 0) {
                let val = parseFloat(document.getElementById('betInput').value);
                let min = activeCurr === 'stars' ? 25 : 0.1;
                
                if(val < min) return alert("–ú–∏–Ω —Å—Ç–∞–≤–∫–∞: " + min);
                if(val > balances[activeCurr]) return alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");

                balances[activeCurr] -= val;
                game.myBet = val;
                updateHeader();
                updateBtn();
            } 
            // –õ–û–ì–ò–ö–ê CASH OUT (–ò–°–ü–†–ê–í–õ–ï–ù–ê)
            else if(game.state === 'flying' && game.myBet > 0 && !game.cashedOut) {
                let win = game.myBet * game.mult;
                balances[activeCurr] += win;
                game.cashedOut = true;
                alert(`–í–´–ò–ì–†–´–®: ${win.toFixed(2)}`);
                game.myBet = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º, —á—Ç–æ–±—ã –Ω–µ–ª—å–∑—è –±—ã–ª–æ –∑–∞–±—Ä–∞—Ç—å –¥–≤–∞–∂–¥—ã
                updateHeader();
                updateBtn();
            }
        }

        function updateBtn() {
            const btn = document.getElementById('crashBtn');
            
            if(game.state === 'waiting') {
                if(game.myBet > 0) {
                    btn.innerText = "–ñ–î–ï–ú...";
                    btn.className = "w-1/2 action-btn bg-gray-800 text-gray-500 text-xs";
                } else {
                    btn.innerText = "–°–¢–ê–í–ö–ê";
                    btn.className = activeCurr === 'stars' 
                        ? 'w-1/2 action-btn neon-btn uppercase text-xs tracking-wider' 
                        : 'w-1/2 action-btn ton-btn uppercase text-xs tracking-wider';
                }
            } 
            else if(game.state === 'flying') {
                if(game.myBet > 0 && !game.cashedOut) {
                    // –ö–ù–û–ü–ö–ê –ó–ê–ë–†–ê–¢–¨
                    let currentWin = (game.myBet * game.mult).toFixed(2);
                    btn.innerText = "–ó–ê–ë–†–ê–¢–¨ " + currentWin;
                    btn.className = "w-1/2 action-btn bg-white text-black text-xs font-bold shadow-[0_0_15px_white]";
                } else {
                    btn.innerText = "–õ–ï–¢–ò–ú...";
                    btn.className = "w-1/2 action-btn bg-gray-800 text-gray-500 text-xs";
                }
            } 
            else {
                btn.innerText = "CRASH";
                btn.className = "w-1/2 action-btn bg-red-900 text-white text-xs";
            }
        }

        // --- UTILS ---
        function openWallet() { document.getElementById('wallet-modal').classList.remove('hidden'); }
        function addBalance(amt) { balances[activeCurr]+=amt; updateHeader(); }
        function nav(p) { 
            document.querySelectorAll('.tab-content').forEach(e=>e.classList.remove('active'));
            document.getElementById('page-'+p).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(e=>e.classList.remove('active'));
            document.getElementById('nav-'+p).classList.add('active');
        }

        window.onload = () => {
            setCurrency('stars');
            runGame();
        };

    </script>
</body>
</html>
