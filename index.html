<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Neon Gaming Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@400;600&display=swap');
        :root { --neon: #39FF14; --gold: #FFD700; --dark: #050505; }
        body { background: var(--dark); color: white; font-family: 'Inter', sans-serif; overflow: hidden; height: 100vh; margin: 0; }
        .neon-text { font-family: 'Orbitron', sans-serif; color: var(--neon); text-shadow: 0 0 10px rgba(57, 255, 20, 0.5); }
        .neon-border { border: 2px solid var(--neon); box-shadow: 0 0 15px rgba(57, 255, 20, 0.2); }
        .neon-btn { background: var(--neon); color: black; font-weight: bold; border-radius: 12px; transition: 0.2s; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .tab-content { display: none; height: calc(100vh - 170px); overflow-y: auto; padding: 20px; }
        .tab-content.active { display: block; }
        
        /* –ö–æ—à–µ–ª–µ–∫ */
        #wallet-overlay { transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); transform: translateY(100%); }
        #wallet-overlay.open { transform: translateY(0); }

        /* –†—É–ª–µ—Ç–∫–∞ */
        .roulette-container { position: relative; width: 100%; height: 120px; background: #000; border-radius: 20px; overflow: hidden; border: 1px solid #222; }
        .roulette-track { display: flex; position: absolute; left: 0; align-items: center; height: 100%; transition: transform 4s cubic-bezier(0.15, 0, 0.05, 1); }
        .roulette-item { min-width: 90px; height: 100px; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #111; margin: 0 5px; border-radius: 15px; border: 1px solid #222; }
        .gold-border { border: 2px solid var(--gold) !important; box-shadow: 0 0 10px rgba(255, 215, 0, 0.4); }
        .roulette-marker { position: absolute; left: 50%; top: 0; bottom: 0; width: 4px; background: var(--neon); z-index: 10; transform: translateX(-50%); box-shadow: 0 0 15px var(--neon); }
        
        #rocket { position: absolute; font-size: 2.5rem; transition: opacity 0.3s; z-index: 5; }
    </style>
</head>
<body>

    <header class="p-4 flex justify-between items-center bg-black/80">
        <div onclick="openWallet()" class="neon-border rounded-2xl px-4 py-2 bg-black cursor-pointer active:scale-95 transition">
            <p class="text-[9px] text-gray-500 uppercase font-black mb-1">–ö–æ—à–µ–ª–µ–∫ üí≥</p>
            <div class="flex items-center gap-2">
                <span class="text-xl font-black neon-text" id="balanceDisplay">10.00</span>
                <span class="text-sm text-yellow-400">‚≠ê</span>
            </div>
        </div>
        <div class="text-right">
            <p class="text-[9px] text-gray-500 uppercase font-bold">–£—Ä–æ–≤–µ–Ω—å 1</p>
            <div class="w-20 h-1.5 bg-gray-800 rounded-full mt-1 overflow-hidden">
                <div id="xpBar" class="h-full bg-[#39FF14]" style="width: 30%;"></div>
            </div>
        </div>
    </header>

    <main>
        <section id="page-crash" class="tab-content active">
            <div class="bg-[#080808] rounded-[2rem] p-4 border border-gray-900 mb-6 h-64 relative overflow-hidden flex flex-col items-center justify-center">
                <div id="rocket" style="bottom: 10%; left: 10%; opacity: 0;">üöÄ</div>
                <div id="mult-display" class="text-6xl font-black neon-text z-10">1.00x</div>
                <div id="game-status" class="text-[10px] text-gray-500 uppercase mt-2 font-bold tracking-widest">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
                <div id="timer-bar" class="absolute bottom-0 left-0 h-1 bg-[#39FF14] w-0"></div>
            </div>

            <div class="glass rounded-3xl p-6">
                <div class="flex gap-3">
                    <input id="betInput" type="number" value="1.0" class="bg-black border border-gray-800 rounded-xl flex-grow p-4 text-center font-bold outline-none focus:border-[#39FF14]">
                    <button onclick="handleBetClick()" id="crashBtn" class="w-1/2 neon-btn uppercase text-sm">–°—Ç–∞–≤–∫–∞</button>
                </div>
            </div>
        </section>

        <section id="page-cases" class="tab-content text-center">
            <h2 class="text-lg font-black mb-4 uppercase neon-text tracking-widest">–°–µ–∫—Ä–µ—Ç–Ω—ã–π –ö–µ–π—Å</h2>
            <div class="roulette-container mb-6">
                <div class="roulette-marker"></div>
                <div id="rouletteTrack" class="roulette-track"></div>
            </div>
            <div class="glass p-8 rounded-[2.5rem]">
                <p class="text-sm text-gray-400 mb-4">–¶–µ–Ω–∞: <span class="text-white font-bold">5.00 ‚≠ê</span></p>
                <button onclick="openCase()" id="caseBtn" class="w-full py-4 neon-btn uppercase shadow-xl">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
        </section>

        <section id="page-profile" class="tab-content">
            <div class="glass p-6 rounded-[2rem] text-center border-t border-white/10">
                <div class="w-20 h-20 bg-gray-900 rounded-full mx-auto mb-4 border-2 border-[#39FF14] flex items-center justify-center text-3xl">ü§¥</div>
                <h3 class="font-bold">–ò–ì–†–û–ö #1209</h3>
                <div class="mt-6 space-y-3">
                    <button class="w-full py-3 glass rounded-xl text-xs uppercase font-bold tracking-widest">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</button>
                    <button class="w-full py-3 glass rounded-xl text-xs uppercase font-bold tracking-widest text-red-500">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </section>
    </main>

    <nav class="fixed bottom-6 left-8 right-8 h-16 glass rounded-full flex justify-around items-center border border-white/10 z-40 p-1">
        <button onclick="nav('crash')" class="text-xl opacity-50 focus:opacity-100">üìà</button>
        <button onclick="nav('cases')" class="text-xl opacity-50 focus:opacity-100">üéÅ</button>
        <button onclick="nav('profile')" class="text-xl opacity-50 focus:opacity-100">üë§</button>
    </nav>

    <div id="wallet-overlay" class="fixed inset-0 z-[100] bg-black/90 hidden flex flex-col justify-end">
        <div class="glass rounded-t-[3rem] p-8 border-t border-[#39FF14]/30">
            <div class="w-12 h-1.5 bg-gray-800 mx-auto mb-8 rounded-full" onclick="closeWallet()"></div>
            
            <div id="wallet-main">
                <div class="flex gap-4 mb-6">
                    <button onclick="showWalletForm('dep')" class="flex-grow py-4 neon-btn rounded-2xl uppercase text-xs">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                    <button onclick="showWalletForm('with')" class="flex-grow py-4 glass border border-gray-700 rounded-2xl uppercase text-xs">–í—ã–≤–µ—Å—Ç–∏</button>
                </div>
                <p class="text-[10px] text-gray-500 text-center uppercase tracking-widest">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥: 50 ‚≠ê</p>
            </div>

            <div id="wallet-form" class="hidden animate-fade-in">
                <h4 id="form-title" class="text-center font-bold mb-4 uppercase text-[#39FF14]"></h4>
                <input id="wallet-amount" type="number" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É" class="w-full bg-black border border-gray-800 p-4 rounded-xl mb-4 text-center font-bold outline-none focus:border-[#39FF14]">
                <button onclick="processWalletAction()" class="w-full py-4 neon-btn uppercase text-xs mb-4">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                <button onclick="resetWalletUI()" class="w-full text-gray-500 text-[10px] uppercase font-bold">–ù–∞–∑–∞–¥</button>
            </div>
            
            <button onclick="closeWallet()" class="mt-6 w-full text-gray-600 font-bold text-xs uppercase py-2">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        let balance = 10.0;
        let game = { state: 'waiting', mult: 1.0, crashAt: 0, myBet: 0, cashedOut: false };
        let walletMode = '';

        // --- –ö–û–®–ï–õ–ï–ö ---
        function openWallet() {
            const ov = document.getElementById('wallet-overlay');
            ov.classList.remove('hidden');
            setTimeout(() => ov.classList.add('open'), 10);
        }
        function closeWallet() {
            const ov = document.getElementById('wallet-overlay');
            ov.classList.remove('open');
            setTimeout(() => ov.classList.add('hidden'), 400);
            resetWalletUI();
        }
        function showWalletForm(mode) {
            walletMode = mode;
            document.getElementById('wallet-main').classList.add('hidden');
            document.getElementById('wallet-form').classList.remove('hidden');
            document.getElementById('form-title').innerText = mode === 'dep' ? '–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ Stars' : '–í—ã–≤–æ–¥ –°—Ä–µ–¥—Å—Ç–≤';
        }
        function resetWalletUI() {
            document.getElementById('wallet-main').classList.remove('hidden');
            document.getElementById('wallet-form').classList.add('hidden');
            document.getElementById('wallet-amount').value = '';
        }
        function processWalletAction() {
            const amt = parseFloat(document.getElementById('wallet-amount').value);
            if (!amt || amt <= 0) return alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É');
            
            if (walletMode === 'dep') {
                balance += amt;
                alert(`–£—Å–ø–µ—à–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ ${amt} ‚≠ê`);
            } else {
                if (amt > balance) return alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–∞–Ω—Å–∞!');
                balance -= amt;
                alert(`–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ ${amt} ‚≠ê —Å–æ–∑–¥–∞–Ω–∞!`);
            }
            updateUI();
            closeWallet();
        }

        // --- –ö–†–ê–® ---
        function runCrashCycle() {
            game.state = 'waiting';
            game.cashedOut = false;
            game.mult = 1.0;
            const bar = document.getElementById('timer-bar');
            bar.style.width = '100%';
            bar.style.transition = 'width 5s linear';
            document.getElementById('game-status').innerText = '–û–∂–∏–¥–∞–Ω–∏–µ...';
            document.getElementById('rocket').style.opacity = '0';

            setTimeout(() => {
                bar.style.transition = 'none'; bar.style.width = '0%';
                launchRocket();
            }, 5000);
        }

        function launchRocket() {
            game.state = 'flying';
            let r = Math.random();
            game.crashAt = r < 0.4 ? 1.1 + r : (r < 0.9 ? 1.3 + Math.random() : 2.5 + Math.random()*5);
            document.getElementById('rocket').style.opacity = '1';
            
            const intrvl = setInterval(() => {
                if (game.state !== 'flying') { clearInterval(intrvl); return; }
                game.mult += 0.02;
                document.getElementById('mult-display').innerText = game.mult.toFixed(2) + 'x';
                
                let p = Math.min(70, game.mult * 8);
                document.getElementById('rocket').style.bottom = (10 + p/2) + '%';
                document.getElementById('rocket').style.left = (10 + p) + '%';

                if (game.mult >= game.crashAt) {
                    game.state = 'crashed';
                    document.getElementById('mult-display').innerText = 'BOOM!';
                    document.getElementById('mult-display').classList.add('text-red-600');
                    document.getElementById('rocket').style.opacity = '0';
                    game.myBet = 0; updateUI();
                    setTimeout(runCrashCycle, 3000);
                    clearInterval(intrvl);
                }
            }, 60);
        }

        function handleBetClick() {
            const amt = parseFloat(document.getElementById('betInput').value);
            if (game.state === 'waiting' && game.myBet === 0) {
                if (amt > balance) return alert('–ú–∞–ª–æ –∑–≤–µ–∑–¥!');
                balance -= amt; game.myBet = amt; updateUI();
            } else if (game.state === 'flying' && game.myBet > 0 && !game.cashedOut) {
                balance += (game.myBet * game.mult);
                game.cashedOut = true;
                alert('–ü–æ–±–µ–¥–∞!'); updateUI();
            }
        }

        // --- –ö–ï–ô–°–´ ---
        const prizes = [
            { s: '‚≠ê', n: '2 –∑–≤–µ–∑–¥—ã', v: 2.0, w: 0.8, gold: false },
            { s: 'üß∏', n: '15 –∑–≤–µ–∑–¥', v: 15.0, w: 0.1, gold: false },
            { s: 'üíñ', n: '15 –∑–≤–µ–∑–¥', v: 15.0, w: 0.07, gold: true },
            { s: 'üåπ', n: '25 –∑–≤–µ–∑–¥', v: 25.0, w: 0.03, gold: false }
        ];

        function initRoulette() {
            const track = document.getElementById('rouletteTrack');
            track.innerHTML = '';
            for(let i=0; i<60; i++) {
                let p = prizes[Math.random() > 0.1 ? 0 : Math.floor(Math.random()*4)];
                const d = document.createElement('div');
                d.className = `roulette-item ${p.gold ? 'gold-border' : ''}`;
                d.innerHTML = `<span class="text-3xl">${p.s}</span><span class="text-[7px] mt-2 text-gray-500">${p.n}</span>`;
                track.appendChild(d);
            }
        }

        function openCase() {
            if(balance < 5) return alert('–ù—É–∂–Ω–æ 5.00 ‚≠ê');
            balance -= 5; updateUI();
            const track = document.getElementById('rouletteTrack');
            document.getElementById('caseBtn').disabled = true;
            
            let targetIdx = 48;
            let finalWin = Math.random() > 0.15 ? prizes[0] : prizes[1];
            track.children[targetIdx].innerHTML = `<span class="text-3xl">${finalWin.s}</span><span class="text-[7px] mt-2 text-gray-500">${finalWin.n}</span>`;
            if(finalWin.gold) track.children[targetIdx].classList.add('gold-border');

            const x = (targetIdx * 100) - (track.parentElement.offsetWidth / 2) + 50;
            track.style.transform = `translateX(-${x}px)`;

            setTimeout(() => {
                balance += finalWin.v; updateUI();
                alert('–í—ã–ø–∞–ª–æ: ' + finalWin.n);
                document.getElementById('caseBtn').disabled = false;
                track.style.transition = 'none'; track.style.transform = 'translateX(0)';
                initRoulette();
                setTimeout(()=>track.style.transition='transform 4s cubic-bezier(0.15, 0, 0.05, 1)', 50);
            }, 4500);
        }

        function updateUI() {
            document.getElementById('balanceDisplay').innerText = balance.toFixed(2);
            const btn = document.getElementById('crashBtn');
            if (game.state === 'waiting') btn.innerText = game.myBet > 0 ? '–ì–û–¢–û–í–û' : '–°–¢–ê–í–ö–ê';
            else if (game.state === 'flying') btn.innerText = (game.myBet > 0 && !game.cashedOut) ? '–ó–ê–ë–†–ê–¢–¨' : '–ü–û–õ–ï–¢';
            else btn.innerText = '–ö–†–ê–®';
        }

        function nav(p) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('page-'+p).classList.add('active');
        }

        window.onload = () => { initRoulette(); runCrashCycle(); };
    </script>
</body>
</html>
